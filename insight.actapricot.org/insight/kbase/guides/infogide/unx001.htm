<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<title>Info Guide UNX001</title>
<style type="text/css"><!--
	body { font-family: Arial, Helvetica, sans-serif; }

//-->
</style>
<meta name="generator" content="Microsoft FrontPage 3.0">
</head>

<body background="../../../images/mits-bg5.gif" bgcolor="#ffffff" link="#d60029"
alink="#d60029" vlink="#800080" leftmargin="0" marginwidth="0" marginheight="6">
<!-- Header - start of top table -->
<table border="0" cellpadding="0" cellspacing="0" width="98%">
<!-- The top table has the Mitsubishi logo and Home button -->
  <tr>
    <td valign="top"><img src="../../../images/m-logo-s.gif" width="193" height="70" alt="Mitsubishi Electric - Computing for a Connected World"></td>
        <td valign="bottom" align="right"><a href="../../../default.htm"><img width="41" height="32" src="../../../images/bt-home.gif" alt="Insight CD Home Page" border="0"></a></td>
  </tr>
  <tr>
    <td width="98%" colspan="2" bgcolor="#000000"><img width="1" height="1" src="../../../images/space.gif"><br>
    </td>
  </tr>
</table>
<!-- end of top table -->


<table border="0" cellpadding="0" cellspacing="0" width="98%">
  <tr>
    <td width="10" bgcolor="#000000"><img width="10" height="10"
    src="../../../images/space.gif"></td>
    <td width="120" valign="top" align="left" bgcolor="#000000"><script LANGUAGE="JavaScript">

<!--

        if (document.images) {

          var product1 = new Image()
          product1.src = "/insight/images/product1.gif"
          var product2 = new Image()
          product2.src = "/insight/images/product2.gif"

          var service1 = new Image()
          service1.src = "/insight/images/service1.gif"
          var service2 = new Image()
          service2.src = "/insight/images/service2.gif"

          var kbase1 = new Image()
          kbase1.src = "/insight/images/kbase1.gif"
          var kbase2 = new Image()
          kbase2.src = "/insight/images/kbase2.gif"       

          var upgrade1 = new Image()
          upgrade1.src = "/insight/images/upgrade1.gif"
          var upgrade2 = new Image()
          upgrade2.src = "/insight/images/upgrade2.gif"       

          var downlo1 = new Image()
          downlo1.src = "/insight/images/downlo1.gif"
          var downlo2 = new Image()
          downlo2.src = "/insight/images/downlo2.gif"       

          var inserv1 = new Image()
          inserv1.src = "/insight/images/inserv1.gif"
          var inserv2 = new Image()
          inserv2.src = "/insight/images/inserv2.gif"       

          var email1 = new Image()
          email1.src = "/insight/images/email1.gif"
          var email2 = new Image()
          email2.src = "/insight/images/email2.gif"       

          var search1 = new Image()
          search1.src = "/insight/images/search1.gif"
          var search2 = new Image()
          search2.src = "/insight/images/search2.gif"       

          var y20001 = new Image()
          y20001.src = "/insight/images/y2001.gif"
          var y20002 = new Image()
          y20002.src = "/insight/images/y2002.gif"

          var osites1 = new Image()
          osites1.src = "/insight/images/osites1.gif"
          var osites2 = new Image()
          osites2.src = "/insight/images/osites2.gif"

          var disclaim1 = new Image()
          disclaim1.src = "/insight/images/disclam1.gif"
          var disclaim2 = new Image()
          disclaim2.src = "/insight/images/disclam2.gif"

        }



        function act(imgName) {
          if (document.images)
            document[imgName].src = eval(imgName + '2.src')
        }



        function inact(imgName) {
          if (document.images)
            document[imgName].src = eval(imgName + '1.src')
        }

        // -->
</script>


    <a HREF="../../../products/main.htm" onMouseOver="act('product')" onMouseOut="inact('product')"><img width="113" height="22" src="../../../images/product1.gif" name="product" alt="Products" border="0"></a><br>

    <a HREF="../../../services/main.htm" onMouseOver="act('service')" onMouseOut="inact('service')"><img width="113" height="22" src="../../../images/service1.gif" name="service" alt="Services" border="0"></a><br>

    <a HREF="../../main.htm"><img width="113" height="22" src="../../../images/kbase2.gif" name="kbase" alt="Knowledgebase" border="0"></a><br>
       <a HREF="../../ipb/ipbmain.htm"><img width="113" height="17" src="../../../images/s_ipb.gif" alt="Bulletins (IPBs)" border="0"></a><br>
       <a HREF="../guidecon.htm"><img width="113" height="17" src="../../../images/s_guides.gif" alt="Guides" border="0"></a><br>
       <a HREF="../../faq/main.htm"><img width="113" height="17" src="../../../images/s_faq.gif" alt="FAQs" border="0"></a><br>
       <a HREF="../manuals/menu.htm"><img width="113" height="17" src="../../../images/s_manual.gif" alt="Owner's Handbooks" border="0"></a><br>
       <a HREF="../../../common/infact/menu.htm"><img width="113" height="17" src="../../../images/s_datash.gif" alt="Product Datasheets" border="0"></a><br>
       <a HREF="../../../common/misc/menu.htm"><img width="113" height="17" src="../../../images/s_misc.gif" alt="Miscellaneous Items" border="0"></a><br>

    <a HREF="../../../upgrades/main.htm" onMouseOver="act('upgrade')" onMouseOut="inact('upgrade')"><img width="113" height="22" src="../../../images/upgrade1.gif" name="upgrade" alt="Upgrades" border="0"></a><br>

    <a HREF="../../../download/main.htm" onMouseOver="act('downlo')" onMouseOut="inact('downlo')"><img width="113" height="22" src="../../../images/downlo1.gif" name="downlo" alt="Downloads" border="0"></a><br>

    <a HREF="../../../insindex.exe" onMouseOver="act('search')" onMouseOut="inact('search')"><img width="113" height="22" src="../../../images/search1.gif" name="search" alt="Search Insight" border="0"></a><br>
    <a HREF="mailto:insight@mitsubishi-computers.com" onMouseOver="act('email')" onMouseOut="inact('email')"><img width="113" height="22" src="../../../images/email1.gif" name="email" alt="E-Mail us" border="0"></a><br>
    <a HREF="http://www.mitsubishi-computers.com/support/service/" onMouseOver="act('inserv')" onMouseOut="inact('inserv')"><img width="113" height="22" src="../../../images/inserv1.gif" name="inserv" alt="Insight Service" border="0"></a><br>

    <a HREF="../../../common/year2000/year2000.htm" onMouseOver="act('y2000')" onMouseOut="inact('y2000')"><img width="113" height="21" src="../../../images/y2001.gif" name="y2000" alt="Year 2000" border="0"></a><br>
    <a HREF="../../../common/oth-site/oth-site.htm" onMouseOver="act('osites')" onMouseOut="inact('osites')"><img width="113" height="38" src="../../../images/osites1.gif" name="osites" alt="Other Mitsubishi Sites" border="0"></a><br>
    <a HREF="../../../common/disclaim.htm" onMouseOver="act('disclaim')" onMouseOut="inact('disclaim')"><img width="113" height="24" src="../../../images/disclam1.gif" name="disclaim" alt="Site Disclaimer" border="0"></a><br>
      
    <img width="113" height="120" src="../../../images/space.gif"><br>
</td>
    <td width="10" valign="top" width="10" height="10" src="/insight/images/space.gif"
    alt="10 pixel Gap" border="0"></td>

    <td valign="top"><font size="2"><br>
    </font><font face="Arial,Helvetica" size="4" color="#D60029"><strong>Info Guide UNX001:<br>
    Configuring FTP PC/TCP 2.3 with WFWG 3.11</strong></font><p><font size="2">These notes are
    for use as an aid to installing FTP's Workstation Pack release 2.3 with Windows For
    Workgroups 3.11 as far as enabling TCP and WFWG networking to co-exist. Included in the
    notes are minimal instructions for installing FTP 2.3, but these notes are not designed as
    a replacement for the FTP documentation - see the section entitled <a href="#unx001_5">&quot;FTP
    2.3 basic installation steps&quot;</a>. </font></p>
    <p><font size="2">Throughout these notes any reference to Windows for Workgroups is
    assumed to be for version 3.11, and all network driver configuration files are for i82596.
    </font></p>
    <p><font size="2">When installing FTP's release 2.3 the network stack should already be
    configured and working. If this is done the FTP installation routine will recognise an
    installed network driver interface and configure itself to use whichever type of network
    stack is in place (Packet Driver, ODI, or NDIS). For workstations that also require Novell
    NetWare connectivity, the preferred stack is now ODI. For LAN Manager connectivity the
    stack will be NDIS. A Packet Driver can only be used if WFWG is installed without network
    support so is not relevant here. These notes will therefore give more detail for an ODI
    based installation. </font></p>
    <blockquote>
      <p><a href="#unx001_1"><font size="2">Confirm that WFWG is configured for ODI</font></a></p>
      <p><font size="2"><a href="#unx001_2">Editing the protocol.ini file</a></font></p>
      <p><font size="2"><a href="#unx001_3">Example Configuration Files</a></font><ul>
        <li><font size="2">autoexec.bat - ODI<br>
          </font></li>
        <li><font size="2">protocol.ini - ODI<br>
          </font></li>
        <li><font size="2">net.cfg<br>
          </font></li>
        <li><font size="2">config.sys </font></li>
      </ul>
      <p><a href="#unx001_4"><font size="2">NDIS2 or NDIS3</font></a></p>
      <p><font size="2"><a href="#unx001_5">FTP 2.3 Basic Installation Steps</a> </font><ul>
        <li><font size="2">FTP 2.3 install routine does not recognise a network stack</font></li>
      </ul>
      <p><a href="#unx001_6"><font size="2">NetWare and FTP under Windows</font></a></p>
      <p><font size="2"><a href="#unx001_7">FTP Print Redirection under WFWG</a></font></p>
      <p><font size="2"><a href="#unx001_8">IPB 2160</a></font></p>
    </blockquote>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p><font size="2"><a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top"
    align="left" border="0" hspace="0" width="14" height="10"></a> <a href="#top"><img
    src="../../../graphics/redarr01.gif" alt="Back to Top" align="right" border="0" hspace="0"
    width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_1"></a><font size="3"><strong>Confirm that WFWG is configured for ODI</strong></font></p>
    <p><font size="2">Start by confirming that WFWG is configured to run its peer to peer
    networking (Windows Network Setup --&gt; Install Microsoft Windows Network), and has had
    the NetWare Workstation Shell 3.x support installed running over ODI. Study the section
    entitled &quot;Windows for Work Groups, NetWare, i82596 &amp; ODI&quot; in <a
    href="../../ipb/networks/ipb2160.htm">IPB&nbsp;2160</a> to confirm this. A
    similar IPB which details this configuration for i82592 based systems is <a
    href="../../ipb/networks/ipb2164.htm">IPB&nbsp;2164</a>. If the NetWare shell and
    Windows utilities are not actually required they can be removed after the FTP
    installation. </font></p>
    <p><font size="2">ODI or NDIS configurations for FTP on WFWG systems must contain entries
    for a Packet Driver interface in the file c:\windows\protocol.ini. The FTP installation
    routine will fail to recognise the network stack without such an entry. No such entry will
    exist after a WFWG installation even in a NetWare environment - see the section entitled <a
    href="#unx001_2">Editing the protocol.ini file</a>. <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_2"></a><font size="3"><strong>Editing the protocol.ini file</strong></font></p>
    <p><font size="2">Before reviewing the various example files that are shown later in these
    notes, add a [PKTDRV] section to allow FTP PC/TCP 2.3 to recognise the network stack
    during its installation. It is likely that such a section will not already exist. WFWG
    uses the file protocol.ini for configuration of the various network stack modules. This
    file is used for an NDIS stack or ODI stack configuration. </font></p>
    <p><font size="2">FTP expects to be talking to a <em>Packet Driver</em> interface, add the
    following to the end of the c:\windows\protocol.ini file:- </font></p>
    <p><font size="2">[PKTDRV]<br>
    DriverName = PKTDRV$<br>
    Bindings = APR$596<br>
    Intvec = 0x65<br>
    Chainint = 0x66 </font></p>
    <p><font size="2">Here, PKTDRV$ refers to the <em>Packet Driver</em> interface which is
    actually what FTP call the <em>ODI to packet driver converter program</em> when running
    ODI, or the <em>Packet Driver to NDIS converter</em> (dis_pkt.gup which is loaded by the
    config.sys file) when running NDIS. The <em>ODI to packet driver converter program</em> is
    also referred to as the <em>ODI Packet Driver</em> and is the file ODIPKT.COM. - see the
    section entitled <a href="#unx001_3">&quot;Example configuration files&quot;</a> later in
    these notes. </font></p>
    <p><font size="2"><strong>Important note</strong>: Ensure that the ODIPKT.COM supplied on
    the FTP 2.3 floppy (Disk 5 of 6) is used - other public domain versions are known to cause
    TCP to hang. This file is 5765 bytes and dated 10/11/93. The FTP installation will install
    its ODI Packet Driver into the c:\pctcp directory by default, so ensure that this is the
    file being executed by autoexec.bat. <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_3"></a><font size="3"><strong>Example configuration files</strong></font></p>
    <p><font size="2">These example files show the configuration once FTP PC/TCP is installed.
    The FTP added entries are given in the comments that follow each relevant example, so when
    reviewing these files prior to installing PC/TCP, ignore such entries. </font></p>
    <p><strong><font size="2">autoexec.bat - ODI </font></strong></p>
    <p><font size="2">@ECHO OFF<br>
    PROMPT $p$g<br>
    PATH C:\WINDOWS;C:\DOS<br>
    lh C:\WINDOWS\SMARTDRV.EXE<br>
    C:\WINDOWS\net start<br>
    <br>
    lh c:\windows\lsl<br>
    lh c:\windows\82596odi<br>
    lh c:\windows\ipxodi<br>
    C:\windows\odihlp.exe<br>
    lh c:\netx<br>
    <br>
    lh KEYB UK,,C:\DOS\KEYBOARD.SYS<br>
    <br>
    H:login johneu &lt;c:\novell.pwd<br>
    lh doskey<br>
    <br>
    rem ******* PC/TCP INSTALL ADDED LINE(S) - BEGIN ******<br>
    rem ** If you do not have lsl and odi driver already running from **<br>
    rem ** autoexec.bat before this, please do so. **<br>
    C:\PCTCP\ODIPKT.COM <br>
    SET PATH=C:\PCTCP;%PATH%<br>
    SET PCTCP=C:\PCTCP\PCTCP.INI<br>
    C:\PCTCP\ETHDRV.EXE<br>
    rem ******* PC/TCP INSTALL ADDED LINE(S) - END ******<br>
    <br>
    rem ### FTP Interdrive drive redirector<br>
    idrive<br>
    <br>
    rem ### FTP print redirection - config in pctcp.ini<br>
    predir </font></p>
    <p><font size="2">Note the section that is added by the FTP installation routine - </font></p>
    <p><font size="2">rem ******* PC/TCP INSTALL ADDED LINE(S) - BEGIN ****** <br>
    to <br>
    rem ******* PC/TCP INSTALL ADDED LINE(S) - END ****** . </font></p>
    <p><font size="2">These entries were created in the file C:\pctcp\aexecftp.bat by the
    install routine and once verified as acceptable this file is manually copied to
    C:\autoexec.bat after the installation completes. </font></p>
    <p><font size="2">The ODI stack is loaded by the following section of the autoexec.bat
    file - note here that the NetWare workstation shell is also being loaded:- </font></p>
    <p><font size="2">lh c:\windows\lsl<br>
    lh c:\windows\82596odi<br>
    lh c:\windows\ipxodi<br>
    C:\windows\odihlp.exe<br>
    lh c:\netx </font></p>
    <p><font size="2">If NetWare connectivity was not being installed the ODI stack entries
    would appear as:- </font></p>
    <p><font size="2">lh c:\windows\lsl<br>
    lh c:\windows\82596odi<br>
    C:\windows\odihlp.exe </font></p>
    <p><font size="2">The lh c:\windows\lsl entry is the <em>Link Support Layer (LSL)</em>
    part of the ODI stack and the lh c:\windows\82596odi entry is the <em>Multiple Link
    Interface Driver (MLID)</em> part. The LSL and MLID programs and the net.cfg file should
    all reside in the same directory - by default this will be c:\windows. </font></p>
    <p><font size="2">FTP's <em>ODI Packet Driver</em> is loaded by the line:- </font></p>
    <p><font size="2">C:\PCTCP\ODIPKT.COM </font></p>
    <p><font size="2">See the comments after the net.cfg file example for possible command
    line arguments that could be used with odipkt.exe. </font></p>
    <p><font size="2">The FTP TCP kernel is loaded by the line:- </font></p>
    <p><font size="2">C:\PCTCP\ETHDRV.EXE </font></p>
    <p><font size="2">The last two entries are for loading FTP's Interdrive (drive redirection
    to Unix host via NFS) and FTP's print redirection. These are not needed for connections
    using FTP's terminal emulators, but may well be required later. Refer to the FTP
    documentation for further information:- </font></p>
    <p><font size="2">idrive<br>
    predir </font></p>
    <p><font size="2"><strong>protocol.ini - ODI</strong> </font></p>
    <p><font size="2">This will by default be c:\windows\protocol.ini. </font></p>
    <p><font size="2">[network.setup]<br>
    version=0x3110<br>
    netcard=ms$odimac,1,MS$ODIMAC,4<br>
    transport=ms$nwlinknb,NWLINK<br>
    transport=ms$netbeui,NETBEUI<br>
    lana0=ms$odimac,1,ms$netbeui<br>
    lana1=ms$odimac,1,ms$nwlinknb<br>
    <br>
    [PKTDRV]<br>
    DriverName=PKTDRV$<br>
    BINDINGS=APR$596<br>
    INTVEC=0x65<br>
    CHAININT=0x66<br>
    <br>
    [net.cfg]<br>
    PATH=C:\WINDOWS\net.cfg<br>
    <br>
    [MS$ODIMAC]<br>
    <br>
    [Link Driver 82596]<br>
    data=Frame Ethernet_SNAP<br>
    data=Frame Ethernet_802.2<br>
    data=Frame Ethernet_II<br>
    data=Frame Ethernet_802.3<br>
    data=Link Driver 82596<br>
    <br>
    [NWLINK]<br>
    <br>
    BINDINGS=82596<br>
    <br>
    [NETBEUI]<br>
    BINDINGS=82596<br>
    LANABASE=0<br>
    SESSIONS=10<br>
    NCBS=12 </font></p>
    <p><font size="2">Note here the [PKTDRV] section referred to earlier in these notes and
    the [net.cfg] section which is needed to define the location of the net.cfg file which is
    the configuration file for the ODI stack. </font></p>
    <p><strong><font size="2">net.cfg </font></strong></p>
    <p><font size="2">This is the ODI configuration file and is by default c:\windows\net.cfg
    as mentioned after the autoexec.bat example file. </font></p>
    <p><font size="2">Link Driver 82596ODI </font></p>
    <blockquote>
      <p><font size="2">Frame Ethernet_802.3<br>
      Frame Ethernet_II<br>
      Frame Ethernet_802.2<br>
      Frame Ethernet_SNAP<br>
      Protocol IPX 0 Ethernet_802.3 </font></p>
    </blockquote>
    <p><font size="2">Note here that the order of these entries is important, especially where
    NetWare connectivity is also required. </font></p>
    <p><font size="2">Note too that the entry Frame Ethernet_II may have to be referred to
    specifically by the C:\PCTCP\ODIPKT.COM entry. The method of specifying the entry in the
    net.cfg file of the form C:\PCTCP\ODIPKT.COM 2, where the 2 specifies the second entry in
    the net.cfg file, appears to be for the public domain ODI Packet driver that is available
    from area 37 of Apricot <strong>Insight BBS</strong>. As mentioned earlier this ODI Packet
    driver is known to hang the system with FTP 2.3. When using FTP's ODI Packet driver the
    syntax is:- </font></p>
    <p><font size="2">c:\pctcp\odipkt frame=ETHERNET II. </font></p>
    <p><font size="2">This entry has been required on i82592 based systems. Normally no such
    entry is needed for i82596 based systems. </font></p>
    <p><font size="2"><strong>config.sys</strong> </font></p>
    <p><font size="2"><em>ODI &amp; NDIS</em><br>
    The config.sys file should have an entry as below - this is the real mode part of the WFWG
    3.11 32 bit drivers:- </font></p>
    <p><font size="2">DEVICEHIGH=C:\WINDOWS\IFSHLP.SYS </font></p>
    <p><font size="2">For ODI there are no other relevant entries. </font></p>
    <p><font size="2"><em>NDIS specific</em><br>
    For a non-32 bit (NDIS2) stack the config.sys file will be of the form:- </font></p>
    <p><font size="2">DEVICE=C:\WINDOWS\HIMEM.SYS<br>
    DEVICE=C:\DOS\APRUMB.SYS<br>
    DOS=HIGH,UMB<br>
    COUNTRY=044,,C:\DOS\COUNTRY.SYS<br>
    FILES=120<br>
    BUFFERS=20<br>
    DEVICEHIGH=C:\WINDOWS\IFSHLP.SYS<br>
    deviceHIGH=C:\WINDOWS\protman.dos /i:C:\WINDOWS<br>
    deviceHIGH=C:\WINDOWS\eth596.dos<br>
    deviceHIGH=C:\WINDOWS\msipx.sys<br>
    deviceHIGH=C:\WINDOWS\ndishlp.sys<br>
    LASTDRIVE=P<br>
    STACKS=9,256<br>
    DEVICE=c:\PCTCP\DIS_PKT.GUP </font></p>
    <p><font size="2">The NDIS stack for WFWG 3.11 is loaded by the following section:- </font></p>
    <p><font size="2">deviceHIGH=C:\WINDOWS\protman.dos /i:C:\WINDOWS<br>
    deviceHIGH=C:\WINDOWS\eth596.dos<br>
    deviceHIGH=C:\WINDOWS\msipx.sys<br>
    deviceHIGH=C:\WINDOWS\ndishlp.sys </font></p>
    <p><font size="2">The FTP supplied <em>NDIS to Packet Driver Converter</em> is loaded by
    the entry:- </font></p>
    <p><font size="2">DEVICE=c:\PCTCP\DIS_PKT.GUP <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_4"></a><font size="3"><strong>NDIS2 or NDIS3</strong></font></p>
    <p><font size="2">For WFWG 3.11 an entry such as:- </font></p>
    <blockquote>
      <p><font size="2">device=protman.dos /i:c:\windows\ </font></p>
    </blockquote>
    <p><font size="2">may NOT be required in config.sys for an NDIS installation. This is
    because the protocol manager for a particular network card may be a 32 bit enhanced mode
    driver (NDIS3) and is therefore part of the 32 bit networking drivers of Win 3.11. These
    run in protected mode and are installed at Windows runtime. </font></p>
    <p><font size="2">However, to use FTP PC/TCP under DOS then the autoexec.bat and
    config.sys files must be configured to load the older NDIS2 driver (see previous section
    entitled <a href="#unx001_3">&quot;Example configuration files&quot;</a>) even if WFWG has
    been configured to use an NDIS3 driver. This is because the NDIS3 driver is not installed
    until WFWG starts. An NDIS3 driver is not available for i82592 based systems, but i82596
    based systems are now supplied with an NDIS3 driver. <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_5"></a><font size="3"><strong>FTP 2.3 Basic Installation Steps</strong></font></p>
    <p><font size="2">Having edited the protocol.ini, net.cfg (for ODI), config.sys, and
    autoexec.bat where appropriate by referring to the earlier sections in these notes, a
    basic FTP 2.3 installation should now be carried out. Carry out the following:- </font><ul>
      <li><font size="2">From the FTP floppy number 1 run install.<br>
        <br>
        </font></li>
      <li><font size="2">When prompted for the serial number and key, note that the numbers should
        be entered with the &quot;-&quot; characters included. E.g. 1234-2222-5678<br>
        <br>
        </font></li>
      <li><font size="2">Select the defaults of a new installation and a directory of C:\PCTCP<br>
        <br>
        </font></li>
      <li><font size="2">You will then be asked to select the application groups to install. Base
        your answers on the following guidelines. Apricot's recommendations are highlighted in
        bold type:-<br>
        <br>
        </font><table border="0" width="80%">
          <tr>
            <td><em><font size="2">Do you have a connection to the Internet? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">If connected to the Internet and are therefore able to use
            the nicname command. (See FTP Command Reference manual). For most installations, answer
            no. </font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want to install the Windows 3.x applications? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want the mail programs? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">For installing the mail reader based on the Berkeley Unix
            mail program, or to access an nntpd Internet News daemon on the Unix host. (See Ref manual
            mail, nntp, pop2, pop3 etc.)</font></td>
          </tr>
          <tr>
            <td><font size="2"><em>Do you want to install Interdrive?</em> </font></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">For drive redirection to Unix directories via NFS.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want NETBIOS capability? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">If your network relies on NETBIOS - not required for
            NetWare + WFWG + FTP PC/TCP as described in these notes. </font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want to use PC/TCP with any Berkeley Unix systems? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">Even though SCO Unix is not a Berkeley Unix it does have
            several Berkeley commands such as rcp and rcmd, of which the FTP equivalents are installed
            here. This also installs the lpr command which is for printing files on a Unix printer via
            LPD.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want the remote login programs that do terminal emulation? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">To install tn (telnet), rloginvt (rlogin), wtnvt (Windows
            telnet if Windows apps selected), and others.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want the remote login programs that emulate no terminals? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">To install &quot;glass&quot; terminal programs that do no
            emulations - they are used with a 3rd party terminal emulator that uses DOS INT 14.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want Kerberos authentication? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">For a Unix/networking environment that is running Kerberos
            security - which is a 3rd party add on product.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want hot-key print redirection? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">To install predir, the FTP printer port redirector that can
            redirect to a program of your choice such as lpr which uses the LPD protocol to access
            Unix printers.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you have an IMAGEN laser printer on your network? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">For printing to this specific type of network printer. (See
            Ref manual iprint command.)</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want to use this PC as an LPD print server? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">To print from Unix to a printer attached to the workstation
            via LPD, i.e. a <em>remote printer</em> as far as Unix is concerned. Configure SCO Unix to
            use such remote printers with the SCO mkdev rlp command. (See Ref manual lpd command).</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want to use a serial port for your Internet connection? </font></em></td>
            <td><strong><font size="2">NO</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">To install the kernels for slip and ppp - these are for
            TCP/IP over serial lines.</font></td>
          </tr>
          <tr>
            <td><em><font size="2">Do you want to run a Novell NetWare Client over PC/TCP? </font></em></td>
            <td><strong><font size="2">YES</font></strong></td>
          </tr>
          <tr>
            <td colspan="2"><font size="2">When using an ODI stack this will load the FTP <em>ODI
            Packet Driver</em> odipkt.com referred to earlier in these notes.</font></td>
          </tr>
        </table>
      </li>
    </ul>
    <p><strong><font size="2">FTP 2.3 install routine does not recognise a network stack</font></strong><ul>
      <li><font size="2">The install routine may fail to recognise an installed and running
        network stack and it will then present a menu to select the kernel required and other
        information. Do not abort the installation. If you do, the Windows applications such as
        WTNVT (Windows telnet terminal) etc. will not be correctly configured - no icons will be
        setup. <br>
        <br>
        The installation routine will ask what type of network stack is to be used and it will
        then offer to browse directories for the appropriate files. Select a <em>Packet Driver</em>
        and use the FTP supplied floppy labelled <em>Packet-Driver Disk 6 of 6</em> as the disk to
        browse for a driver. Select any packet driver from this disk, say the 3C503 driver, and
        continue with the installation routine. <br>
        <br>
        The reason for doing this is that opting for a packet driver is the quickest way to force
        the installation routine to continue and it will simply add this to the aexecftp.bat file,
        which is by default in the C:\pctcp directory, (FTP's modified autoexec.bat file that can
        then be used in place of the original autoexec.bat). <br>
        <br>
        Once the installation routine has completed, remove this entry and edit such files as
        autoexec.bat, config.sys, protocol.ini, etc. to correctly configure the network stack that
        is actually desired. Review the sections in these notes entitled &quot;<a href="#unx001_2">Editing
        the protocol.ini file</a>&quot; and &quot;<a href="#unx001_3">Example Configuration Files</a>&quot;.
        <br>
        <br>
        </font></li>
      <li><font size="2">After the installation routine has installed most of the software based
        upon the answers given above it will prompt for permission to edit progman.ini,
        system.ini, and win.ini. Answer Y as copies are made. <br>
        <br>
        </font></li>
      <li><font size="2">The installation routine will detect a <em>Network Driver</em> defined in
        the Windows system.ini file - the network.drv=wfwnet.drv entry. The installation routine
        asks if this can be replaced with FTP's network.drv entry - network.drv=pctcpnet.drv must
        not be done. See the section later in these notes entitled &quot;<a href="#unx001_7">FTP
        Print Redirection under WFWG</a>&quot;. If NetWare print redirection etc. is required
        under Windows see the section later in these notes entitled &quot;<a href="#unx001_6">NetWare
        and FTP under Windows</a>&quot;. <br>
        <br>
        </font></li>
      <li><font size="2">The installation routine proceeds to its &quot;Phase III&quot; which
        displays a scroll bar menu entitled &quot;PC/TCP Kernel and Application
        Configuration&quot;. This is actually the program kappconf and can be run at any point
        after installation for further configuration. Select Basic Network Configuration from the
        list to define the IP address, subnet mask, host name, and other information. <br>
        <br>
        </font></li>
      <li><font size="2">Select Detailed Network Configuration and then Kernel. The interface
        should already be set to ifcust0, the kernel interrupt will probably be 0x61. You will
        probably need to change the broadcast address which is set to 255.255.255.255 by default.
        For a class A network whose net number is 50, set it to 50.255.255.255. If there are old
        SCO TCP systems on the net (SCO TCP 1.1.3), the broadcast may need to be set to 50.0.0.0
        so this setting may need clarification. <br>
        <br>
        </font></li>
      <li><font size="2">It is possible to load the kernel into upper memory. This is defined in
        the Detailed Network Configuration --&gt; Kernel menu. See the FTP manuals for more
        information. Recommended. <br>
        <br>
        </font></li>
      <li><font size="2">Select Detailed Network Configuration --&gt; User and enter the user's
        full name and user name. The user name entry defines the Unix username of the user. As far
        as a Unix host is concerned, the FTP workstation is recognised as by its hostname with a
        logged in user defined as user name in much the same way as any other Unix host. The
        username allows commands such as rcp to function and rloginvt to operate with no password
        being required - i.e. <em>User Equivalence</em>. <br>
        <br>
        </font></li>
      <li><font size="2">Select Detailed Network Configuration --&gt; Environment and define the
        host file entry. The likely entry will be C:\PCTCP\HOSTS. This is the hosts file that has
        the same function as the Unix TCP /etc/hosts file. There is no need to define the time
        zone and related entries at this time, they can be defined later by running kappconf. <br>
        <br>
        </font></li>
      <li><font size="2">Exit and save at this point by entering escapes and then F10 to save and
        exit. <br>
        <br>
        </font></li>
      <li><font size="2">View the file C:\PCTCP\AEXECFTP.BAT. This is the FTP modified
        autoexec.bat. It should have an added section such as:- <br>
        <br>
        rem ******* PC/TCP INSTALL ADDED LINE(S) - BEGIN *******<br>
        rem ** If you do not have lsl and odi driver already running from **<br>
        rem ** autoexec.bar before this, please do so. **<br>
        C:\PCTCP\ODIPKT.COM<br>
        SET PATH=C:\PCTCP;%PATH%<br>
        SET PCTCP=C:\PCTCP\PCTCP.INI<br>
        C:\PCTCP\ETHDRV.EXE<br>
        rem ******* PC/TCP INSTALL ADDED LINE(S) - END ******* <br>
        <br>
        This file may contain an entry for a Packet Driver such as the WD8003 as detailed earlier
        in these notes. A driver such as this should have been selected if the installation
        routine failed to recognise a valid network stack. Remove this Packet Driver entry (a
        single line). <br>
        <br>
        Copy C:\PCTCP\AEXECFTP.BAT to autoexec.bat. <br>
        <br>
        Note that manual configuration must be carried out if a Packet Driver entry was forced due
        to an invalid stack. Review these notes from the beginning for guidance. <br>
        <br>
        </font></li>
      <li><font size="2">View the file C:\PCTCP\CONFIG.INS. For an ODI installation this file
        should be the same as config.sys, so no copying is required. For an NDIS installation an
        entry DEVICE=C:\PCTCP\DIS_PKT.GUP for the FTP supplied NDIS to Packet converter should be
        added. Copy this file to config.sys. <br>
        <br>
        </font></li>
      <li><font size="2">Reboot the workstation and verify that the ODI Packet driver odipkt
        starts up without error, as does the TCP kernel ethdrv <br>
        <br>
        </font></li>
      <li><font size="2">Create the hosts file c:\pctcp\hosts and include a Unix host to be used
        to test TCP connectivity. The format of the entries is as follows:- <br>
        <br>
        50.10.1.5 barney <br>
        <br>
        </font></li>
      <li><font size="2">Use the ping command to test basic connectivity. Use the command ping -t
        barney. This will give a repeating echo request to a host called barney in a similar
        fashion to the SCO Unix ping barney command. <br>
        <br>
        If TCP does not function, check again for error messages at boot-up. The TCP kernel should
        include lines similar to those below at the end of its output at boot time:- <br>
        <br>
        5 free packets of length 1514, 5 free packets of length 160<br>
        The Resident Module occupies 69.1K of conventional memory </font></li>
    </ul>
    <p><font size="2">If the installation routine failed to recognise the installed network
    stack review these notes from the beginning and manually configure autoexec.bat,
    config.sys, protocol.ini, and net.cfg (for ODI). <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_6"></a><font size="3"><strong>NetWare and FTP under Windows</strong></font></p>
    <p><font size="2">As discussed in the &quot;<a href="#unx001_5">FTP 2.3 Basic Installation
    Steps</a>&quot; section above, you should not allow the install routine to replace the
    WFWG network driver defined in system.ini, if you do then WFWG peer to peer networking
    will be lost. If NetWare functionality is required under Windows or WFWG then the FTP 2.3
    network driver cannot be loaded. However, drive redirection using FTP's Interdrive to a
    Unix host via NFS will function without the FTP network driver loaded - use the <em>PC/TCP
    Network</em> icon in the <em>PC/TCP WinApps</em> program group and select <em>Drives</em>
    to make a connection - such a connection can be set to be established at Windows boot
    time. For this configuration the network driver entries in the [boot] section of
    system.ini for WFWG would be as follows:- </font></p>
    <blockquote>
      <p><font size="2">network.drv=wfwnet.drv<br>
      secondnet.drv=netware.drv </font></p>
    </blockquote>
    <p><font size="2"><br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_7"></a><font size="3"><strong>FTP Print Redirection under WFWG</strong></font></p>
    <p><font size="2">If FTP 2.3 print redirection to Unix via LPD is required under WFWG then
    the NetWare functionality under WFWG has to be sacrificed. For this configuration the
    network driver entries in the [boot] section of system.ini for WFWG would be as follows:- </font></p>
    <blockquote>
      <p><font size="2">network.drv=wfwnet.drv<br>
      secondnet.drv=pctcpnet.drv </font></p>
    </blockquote>
    <p><font size="2">This will allow drive redirection with FTP's Interdrive to Unix via NFS
    and print redirection to Unix via LPD under Windows as well as WFWG redirections. <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    <p><a name="unx001_8"></a><font size="3"><strong>IPB 2160</strong></font></p>
    <p><font size="2">Please refer to <a href="../../ipb/networks/ipb2160.htm">IPB
    2160</a>, &quot;Upgrading to Windows for Workgroups 3.11 with Apricot On-board Ethernet
    i82596&quot;. <br>
    <br>
    <br>
    <a href="#top"><img src="../../../graphics/redarr01.gif" alt="Back to Top" align="left" border="0"
    hspace="0" width="14" height="10"></a> <a href="#top"><img src="../../../graphics/redarr01.gif"
    alt="Back to Top" align="right" border="0" hspace="0" width="14" height="10"></a> </font></p>
    <hr>
    
    <p>&nbsp;</p>
    <p align="center"><img width="486" height="25" src="../../../images/connectd.gif"
    alt="Computing for a Connected World"> </td>
  </tr>
</table>
</body>
</html>
